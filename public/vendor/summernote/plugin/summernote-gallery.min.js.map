{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Module/EventManager.js","webpack:///./src/Module/GalleryModal.js","webpack:///./src/Module/DataManager.js","webpack:///./src/Module/SummernoteGallery.js","webpack:///./src/index.js","webpack:///./src/Module/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","EventManager","this","events_queue","event_name","closure","Array","isArray","push","params","events","length","apply","GalleryModal","options","$","extend","loadOnScroll","maxHeight","title","close_text","ok_text","selectAll_text","deselectAll_text","noImageSelected_msg","event","template","getModalTemplate","$modal","hide","select_class","addStyleToDom","setOptions","attachEvents","find","css","html","data","page","page_images","createImages","append","$content","_this","$image","$item","folder","url","on","loadFolder","prepend","onload","siblings","click","toggleClass","attr","src","clearContent","showLoading","trigger","message_text","permanent","$message","setTimeout","show","$modal_body","$selected_img","modal","each","index","el","removeClass","showError","addClass","scroll","$images_list","scrollTop","height","$images_container","header_content","parseInt","fn","Constructor","VERSION","join","reverse","$css","appendTo","DataManager","responseDataKey","nextPageKey","init","response","current_page","is_fetching_locked","fetch_url","fetch_type","next_link","lockFetching","dotted_key","default_val","split","reduce","item","isEmptyObject","getObjectKeyByString","current_link","ajax","beforeSend","xhr","request_link","always","unlockFetching","done","status_text","parsed_response","parseResponse","setNextFetch","fail","fetchData","SummernoteGallery","button_label","tooltip","plugin_default_options","last_focused_el","editor","editable","range","document","createRange","sel","window","getSelection","cursor_position","setStart","collapse","removeAllRanges","addRange","focus","focused_element","focusNode","parent","contains","saveLastFocusedElement","context","layoutInfo","note","plugin_options","data_manager","source","attachModalEvents","attachEditorEvents","gallery_modal","recoverEditorFocus","invoke","fetchNext","random","fetchFolder","summernote","ui","button","contents","openGallery","render","link","addImages","imagesContainerHasScroll","hideLoading","error","attachDataEvents","open","gallery_plugin","plugin","summernote_gallery","memo","createButton","we","e","initialize","initGallery","plugins","getPlugin"],"mappings":"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","file":"summernote-gallery.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default class EventManager {\n    constructor() {\n        // events store\n        this.events_queue = {};\n    }\n\n    // Register an event\n    on(event_name, closure) {\n        if (! Array.isArray(this.events_queue[event_name]) ) {\n            this.events_queue[event_name] = [];\n        }\n\n        this.events_queue[event_name].push(closure);\n\n        return this;\n    }\n\n    // Fire an event\n    trigger(event_name, params) {\n        var events = this.events_queue[event_name] || [];\n\n        for (var i = 0; i < events.length; i++) {\n            events[i].apply(this, params);\n        }\n\n        return this;\n    }\n\n    clearAll() {\n        this.events_queue = {};\n\n        return this;\n    }\n}","import EventManager from './EventManager'\n\nexport default class GalleryModal {\n\n    constructor(options) {\n        this.options = $.extend({\n            // load more data on modal scroll\n            loadOnScroll: false,\n\n            // modal max height\n            maxHeight: 500,\n\n            // modal title\n            title: 'summernote image gallery',\n\n            // close button text\n            close_text: 'Close',\n\n            // save button text\n            ok_text: 'Add',\n\n            // select all button text\n            selectAll_text: 'Select all',\n\n            // deselect all button text\n            deselectAll_text: 'Deselect all',\n\n            // message error to display when no image is selected\n            noImageSelected_msg: 'One image at least must be selected.'\n        }, options);\n\n        this.event = new EventManager();\n\n        this.template = this.getModalTemplate();\n        this.$modal = $(this.template).hide();\n\n        // class to add to image when selected\n        this.select_class = \"selected-img\";\n\n        this.addStyleToDom();\n        this.setOptions();\n\n        this.attachEvents();\n    }\n\n    setOptions() {\n        this.$modal.find('.modal-body').css('max-height', this.options.maxHeight);\n        this.$modal.find('.modal-title').html(this.options.title);\n        this.$modal.find('#close').html(this.options.close_text);\n        this.$modal.find('#save').html(this.options.ok_text);\n        this.$modal.find('#select-all').html(this.options.selectAll_text);\n        this.$modal.find('#deselect-all').html(this.options.deselectAll_text);\n    }\n\n    // append images to the modal with data object\n    addImages(data, page) {\n\n        var page_images = this.createImages(data, page);\n        var $images_list = this.$modal.find('.images-list');\n\n        if ($images_list.find('.img-item').length) {\n            this.$modal.find('.images-list').append(page_images);\n        } else {\n            this.$modal.find('.images-list').html(page_images);\n        }\n    }\n\n    // generate image elements from data object\n    createImages(data, page) {\n        var attributes = page ? 'class=\"page-content\" data-page\"' + page + '\"' : '';\n        var $content = $('<div ' + attributes + '></div>');\n        var _this = this;\n\n        for (var i = 0; i < data.length; i++) {\n            var $image, $item;\n\n            // If we're working with a folder, different stuff going on\n            if (data[i].folder) {\n                $image = $('<div class=\"col-md-12 thumbnail cursor text-center\" title=\"' + data[i].title + '\" data-url=\"' + data[i].url + '\"/>');\n                $image.html('<span class=\"text\"><i class=\"fa-solid fa-folder fa-2x\"></i>' + data[i].title + '</span>');\n\n                $image.on('click', function (event) {\n                    _this.loadFolder($(this).data('url'));\n                });\n\n                $item = $('<div class=\"col-md-2 img-item\">' + '<i class=\"fa-solid fa-check\"></i>' + '</div>');\n                $item.prepend($image);\n                $content.append($item);\n\n                continue;\n            }\n\n            $image = $('<img class=\"col-md-12 thumbnail\" title=\"'+ data[i].title +'\"/>');\n\n            $image.get(0).onload = function() {\n                $(this).siblings('.loading').hide()\n                $(this).click(function(event) {\n                    $(this).toggleClass(_this.select_class);\n                });\n            }\n\n            $image.attr('src', data[i].src);\n\n            $item = $('<div class=\"col-md-2 img-item\">'\n                +'<i class=\"fa-solid fa-check\"></i>'\n                +'<span class=\"loading\">'\n                +'<i class=\"fa-solid fa-spinner fa-pulse fa-3x fa-fw\"></i>'\n                +'</span>'\n                +'</div>');\n\n            $item.prepend($image);\n            $content.append($item)\n\n        }\n\n        return $content;\n    }\n\n    loadFolder(folder) {\n        //console.log('loading folder', folder);\n        var _this = this;\n\n        this.clearContent();\n        this.showLoading();\n\n        _this.event.trigger('loadFolder', [_this, folder]);\n    }\n\n    showError(message_text, permanent) {\n        var $message = this.$modal.find('.message');\n\n        $message.html('<span class=\"alert alert-danger\">' + message_text + '</span>');\n\n        if (!permanent) {\n            setTimeout(function () {\n                $message.html('');\n            }, 5000);\n        }\n    }\n\n    showLoading () {\n        this.$modal.find('.modal-footer .loading').show();\n    }\n\n    hideLoading () {\n        this.$modal.find('.modal-footer .loading').hide();\n    }\n\n    attachEvents() {\n        var _this = this;\n        var $modal = this.$modal;\n        var $modal_body = $modal.find('.modal-body');\n\n        $modal.find(\"button#save\").click(function(event) {\n            var $selected_img = $modal.find('.img-item img.' + _this.select_class);\n\n            if (! $selected_img.length) {\n                _this.showError(_this.options.noImageSelected_msg);\n                return;\n            }\n\n            $modal.modal('hide')\n\n            _this.event.trigger('beforeSave', [_this]);\n\n            $selected_img.each(function(index, el) {\n                _this.event.trigger('save', [_this, $(this)]);\n\n                $(this).removeClass(_this.select_class);\n            });\n\n            _this.event.trigger('afterSave', [this]);\n        });\n\n        $modal.on('hidden.bs.modal', function () {\n            _this.event.trigger('close')\n        })\n\n        $modal.find(\"button#select-all\").click(function(event) {\n            $modal.find('img').addClass(_this.select_class);\n        });\n\n        $modal.find(\"button#deselect-all\").click(function(event) {\n            $modal.find('img').removeClass(_this.select_class);\n        });\n\n        $modal_body.scroll(function() {\n            var $images_list = $modal.find('.images-list');\n            var is_near_bottom = $modal_body.scrollTop() + $modal_body.height() >= $images_list.height() - 100;\n\n            if (is_near_bottom) {\n                _this.event.trigger('scrollBottom', [_this]);\n            }\n        });\n    }\n\n    open() {\n        this.$modal.modal();\n    }\n\n    clearContent() {\n        // Reset the initial html\n        this.$modal.find('.images-list').html('');\n    }\n\n    // whether the images container has enough content to show the vertical scroll\n    imagesContainerHasScroll() {\n        var $images_container = this.$modal.find('.modal-body');\n        var $images_list = $images_container.find('.images-list');\n\n        return $images_container.height() != $images_list.height();\n    }\n\n    getModalTemplate() {\n\n        var bootsrap_version = parseInt($.fn.modal.Constructor.VERSION);\n        var header_content = [\n            '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>',\n            '<h4 class=\"modal-title\">[gallery title]</h4>'\n        ];\n\n        var modal_html = ''+\n            '<div class=\"modal summernote-gallery fade\" tabindex=\"-1\" role=\"dialog\">'\n                + '<div class=\"modal-lg modal-dialog \">'\n                    + '<div class=\"modal-content\">'\n                        + '<div class=\"modal-header\">'\n                            + (bootsrap_version == 3 ? header_content.join('') : header_content.reverse().join(''))\n                        + '</div>'\n                        + '<div class=\"modal-body\">'\n                            + '<div class=\"row images-list\">'\n                            + '</div>'\n                        + '</div>'\n                        + '<div class=\"modal-footer\">'\n                            + '<span style=\"display: none;position: absolute;left: 10px;bottom: 10px;\" class=\"loading\" >'\n                                + '<i class=\"fa-solid fa-spinner fa-pulse fa-3x fa-fw\"></i>'\n                            + '</span >'\n                            + '<span style=\"display: inline-block; margin-right: 50px;\">'\n                                + '<button type=\"button\" id=\"deselect-all\" class=\"btn btn-default\">[Deselect-all]</button>'\n                                + '<button type=\"button\" id=\"select-all\" class=\"btn btn-default\">[select-all]</button>'\n                            + '</span >'\n                            + '<button type=\"button\" id=\"close\" class=\"btn btn-default\" data-dismiss=\"modal\">[Close]</button>'\n                            + '<button type=\"button\" id=\"save\" class=\"btn btn-primary\">[Add]</button>'\n                            + '<span class=\"message\" ></span >'\n                        + '</div>'\n                    + '</div>'\n                + '</div>'\n            + '</div>';\n\n        return modal_html;\n    }\n\n    addStyleToDom() {\n        this.$css = $('<style>'\n                        +'.img-item{'\n                            +'position : relative;'\n                        +'}'\n                        +'.img-item .fa-check{'\n                            +'position : absolute;'\n                            +'top : -10px;'\n                            +'right : 5px;'\n                            +'font-size: 30px;'\n                            +'color: #337AB7;'\n                        +'}'\n                        +'.img-item .thumbnail{'\n                            +'min-height : 119.66px;'\n                        +'}'\n                        +'.img-item .loading{'\n                            +'position: absolute;'\n                            +'margin: auto;'\n                            +'top: -20px;'\n                            +'bottom: 0;'\n                            +'display: block;'\n                            +'left: 0;'\n                            +'right: 0;'\n                            +'width: 60px;'\n                            +'height: 42px;'\n                            +'text-align: center;'\n                        +'}'\n                        +'.modal.summernote-gallery .message{'\n                            +'display: block;'\n                            +'padding: 30px 0 20px 0;'\n                        +'}'\n                        +'.modal.summernote-gallery .message:empty{'\n                            +'display: block;'\n                            +'padding: 0px!important;'\n                        +'}'\n                        +'.modal.summernote-gallery .modal-body{'\n                            +'overflow: scroll;'\n                        +'}'\n                        +'.img-item .fa-check{'\n                            +'display : none;'\n                        +'}'\n                        +'.img-item .'+ this.select_class +' + .fa-check{'\n                            +'display : block;'\n                        +'}'\n                        +'.'+ this.select_class +'{'\n                            +'background-color: #5CB85C;'\n                        +'}'\n                    +'</style>');\n        this.$css.appendTo('body');\n    }\n}","import EventManager from './EventManager'\n\nexport default class DataManager {\n\n    constructor(options) {\n        this.options = $.extend({\n            // full http url for fetching data\n            url: null,\n\n            // array of objects with 'src' and 'title' keys\n            data: [],\n\n            // the key name that holds the data array\n            responseDataKey: 'data',\n\n            // the key name that holds the next page link\n            nextPageKey: 'links.next',\n        }, options);\n\n        this.init();\n    }\n\n    init(response) {\n        this.current_page = 0;\n        this.is_fetching_locked = false;\n        this.event = new EventManager();\n        this.fetch_url = this.options.url;\n        this.fetch_type = this.options.data.length ? 'data' : (this.fetch_url ? 'url' : null);\n    }\n\n    // stop data fetching if neither next page link nor data were found\n    setNextFetch(response) {\n        if (response.next_link && response.data.length) {\n            this.fetch_url = response.next_link;\n        } else {\n            this.lockFetching();\n        }\n    }\n\n    lockFetching() {\n        this.is_fetching_locked = true;\n    }\n\n    unlockFetching() {\n        this.is_fetching_locked = false;\n    }\n\n    // get a key from object with dot notation, example: data.key.subkey.\n    getObjectKeyByString(object, dotted_key, default_val) {\n        var value = dotted_key.split('.').reduce(function (item, i) {\n            return item ? item[i] : {};\n        }, object);\n\n        if (typeof default_val == 'undefined') {\n            default_val = value;\n        }\n\n        return value && !$.isEmptyObject(value) ? value : default_val;\n    }\n\n    parseResponse(response) {\n\n        return {\n            data: this.getObjectKeyByString(response, this.options.responseDataKey, []),\n            next_link: this.getObjectKeyByString(response, this.options.nextPageKey, null)\n        };\n    }\n\n    fetchData() {\n        var _this = this;\n\n        if (this.fetch_type == 'data') {\n\n            this.event.trigger('beforeFetch');\n            this.event.trigger('fetch', [_this.options.data]);\n            this.event.trigger('afterFetch');\n\n        } else if (this.fetch_type == 'url') {\n\n            // Prevent simultaneous requests.\n            // Because we need to get the next page link from each request,\n            // they must be synchronous.\n            if (this.is_fetching_locked) return;\n\n            var current_link = _this.fetch_url;\n\n            this.event.trigger('beforeFetch');\n\n            this.lockFetching();\n\n            $.ajax({\n                url: current_link,\n                beforeSend:function(xhr){\n                    // set the request link to get it afterwards in the response\n                    xhr.request_link = current_link;\n                },\n            })\n            .always(function () {\n                // this is the first callback to be called when the request finishs\n                _this.unlockFetching();\n            })\n            .done(function(response, status_text, xhr){\n                var parsed_response = _this.parseResponse(response);\n                _this.current_page++;\n\n                //\n                _this.setNextFetch(parsed_response);\n\n                _this.event.trigger('fetch', [\n                    parsed_response.data,\n                    _this.current_page,\n                    xhr.request_link,\n                    parsed_response.next_link\n                ]);\n            })\n            .fail(function() {\n                _this.event.trigger('error', [\"problem loading from \" + current_link]);\n            })\n            .always(function () {\n                _this.event.trigger('afterFetch');\n            });\n\n        } else {\n            _this.event.trigger('error', [\"options 'data' or 'url' must be set\"]);\n        }\n    }\n\n    fetchNext() {\n        if (this.fetch_type == 'url') {\n            this.fetchData();\n        }\n    }\n\n    fetchFolder(folder) {\n        var _this = this;\n\n        // Prevent simultaneous requests.\n        // Because we need to get the next page link from each request,\n        // they must be synchronous.\n        //if (this.is_fetching_locked) return;\n\n        //console.log('getting images from folder url', folder);\n        var current_link = folder;\n\n        this.event.trigger('beforeFetch');\n\n        this.lockFetching();\n\n        $.ajax({\n            url: current_link,\n            beforeSend:function(xhr){\n                // set the request link to get it afterwards in the response\n                xhr.request_link = current_link;\n            },\n        })\n            .always(function () {\n                // this is the first callback to be called when the request finishs\n                _this.unlockFetching();\n            })\n            .done(function(response, status_text, xhr){\n\n                var parsed_response = _this.parseResponse(response);\n                _this.current_page++;\n\n                //\n                _this.setNextFetch(parsed_response);\n\n                _this.event.trigger('fetch', [\n                    parsed_response.data,\n                    _this.current_page,\n                    xhr.request_link,\n                    parsed_response.next_link\n                ]);\n            })\n            .fail(function() {\n                _this.event.trigger('error', [\"problem loading from \" + current_link]);\n            })\n            .always(function () {\n                _this.event.trigger('afterFetch');\n            });\n    }\n}\n","import EventManager from './EventManager'\nimport GalleryModal from './GalleryModal'\nimport DataManager from './DataManager'\n\nexport default class SummernoteGallery {\n    constructor(options) {\n        this.options = $.extend({\n            name: 'summernote-gallery',\n            button_label: '<i class=\"fa-solid fa-file-image-o\"></i>',\n            tooltip: 'summernote gallery'\n        }, options);\n\n        this.event = new EventManager();\n\n        this.plugin_default_options = {}\n    }\n\n    // set the focus to the last focused element in the editor\n    recoverEditorFocus() {\n        var last_focused_el = $(this.editor).data('last_focused_element');\n        if(typeof last_focused_el !== \"undefined\") {\n            var editor = this.editable;\n            var range = document.createRange();\n            var sel = window.getSelection();\n            var cursor_position =  last_focused_el.length;\n\n            range.setStart(last_focused_el, cursor_position);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n            editor.focus();\n        }\n    }\n\n    saveLastFocusedElement() {\n        var focused_element = window.getSelection().focusNode;\n        var parent = $(this.editable).get(0);\n        if ($.contains(parent, focused_element)) {\n            $(this.editor).data('last_focused_element', focused_element)\n        }\n    }\n\n    attachEditorEvents() {\n        var _this = this;\n\n        $(this.editable).on('keypress, mousemove', function() {\n            _this.saveLastFocusedElement();\n        })\n    }\n\n    initGallery(context) {\n        this.context = context;\n        this.editor = this.context.layoutInfo.note;\n        this.editable = this.context.layoutInfo.editable;\n        this.plugin_options = $.extend(\n            this.plugin_default_options,\n            this.context.options[this.options.name] || {}\n        );\n\n        this.modal = new GalleryModal(this.plugin_options.modal);\n        this.data_manager = new DataManager(this.plugin_options.source);\n\n        this.attachModalEvents();\n        this.attachEditorEvents();\n    }\n\n    attachModalEvents() {\n        var _this = this;\n\n        this.modal.event.on('beforeSave', function (gallery_modal) {\n            _this.recoverEditorFocus();\n        });\n\n        this.modal.event.on('save', function (gallery_modal, $image) {\n            // add selected images to summernote editor\n            _this.context.invoke(\n                'editor.pasteHTML',\n                '<img src=\"' + $image.attr('src') + '\" alt=\"' + ($image.attr('alt') || \"\") + '\" />'\n            );\n        });\n\n        this.modal.event.on('scrollBottom', function (gallery_modal) {\n            if (_this.modal.options.loadOnScroll) {\n                _this.data_manager.fetchNext();\n            }\n        });\n        this.modal.event.on('loadFolder', function (random, folder) {\n            _this.data_manager.fetchFolder(folder);\n        });\n\n        this.modal.event.on('close', function (gallery_modal) {\n            _this.data_manager.init();\n            _this.modal.clearContent();\n        });\n    }\n\n    createButton() {\n        var _this = this;\n\n        var button = $.summernote.ui.button({\n            contents: this.options.button_label,\n            tooltip: this.options.tooltip,\n            click: function() {\n                _this.openGallery();\n            }\n        });\n\n        // create jQuery object from button instance.\n        return button.render();\n    }\n\n    attachDataEvents() {\n        var _this = this;\n\n        this.data_manager.event\n        .on('beforeFetch', function () {\n            _this.modal.showLoading();\n        })\n        .on('fetch', function (data, page, link) {\n            //console.log('SummernoteGallery', 'fetch');\n            _this.modal.addImages(data, page);\n\n            setTimeout(function () {\n                if (_this.modal.options.loadOnScroll && !_this.modal.imagesContainerHasScroll()) {\n                    // The loadOnScroll wont work if the images container doesn't have the scroll displayed,\n                    // so we need to keep loading the images until the scroll shows.\n                    _this.data_manager.fetchNext();\n                }\n            }, 2000)\n        })\n        .on('afterFetch', function () {\n            _this.modal.hideLoading();\n        })\n        .on('error', function (error) {\n            _this.modal.showError(error, true);\n        });\n    }\n\n    openGallery() {\n        this.attachDataEvents();\n        this.data_manager.fetchData();\n        this.modal.open();\n    }\n}","import GalleryPlugin from './Module'\n\nvar gallery_plugin = new GalleryPlugin({\n    name: 'gallery',\n    tooltip: 'Gallery',\n});\n\n// add the plugin to summernote\n$.extend($.summernote.plugins, gallery_plugin.getPlugin());","import SummernoteGallery from './SummernoteGallery'\n\nexport default class GalleryPlugin {\n    constructor(options) {\n        this.options = options;\n    }\n\n    getPlugin() {\n        var plugin = {};\n        var _this = this;\n\n        plugin[this.options.name] = function(context) {\n            var summernote_gallery = new SummernoteGallery(_this.options);\n\n            // add gallery button\n            context.memo('button.' + summernote_gallery.options.name, summernote_gallery.createButton());\n\n            this.events = {\n                'summernote.keyup': function(we, e)\n                {\n                    summernote_gallery.saveLastFocusedElement();\n                }\n            };\n\n            this.initialize = function() {\n                summernote_gallery.initGallery(context);\n            };\n        }\n\n        return plugin;\n    }\n}"],"sourceRoot":""}